# 1강. 클라우드 컴퓨팅의 이해

## 클라우드 컴퓨팅의 개념 및 정의

### 클라우드 컴퓨팅의 개념

- 형태와 성질을 쉽게 바꿀 수 있는 구름(cloud) + 컴퓨터의 다양한 처리 기능(computing)

### 클라우드 컴퓨팅의 특징

- 확장성과 유연성
- 즉시성과 가용성
- Pay as you go - 사용하는 만큼 비용 지불

### 클라우드 컴퓨팅의 정의

- 직접 소유한 컴퓨터가 아닌 CSP(Cloud Service Provider)에 의해 서비스의 형태로 제공되는 컴퓨팅 기술

## 클라우드 컴퓨팅의 등장 배경

### 프로비저닝(provisioning)

- IT 리소스를 실시간으로 사용가능한 상태로 만드는, 또는 규격품 형태로 패키징하는 기술

### 클라우드 컴퓨팅의 보급 원인

- 서버의 유휴 리소스 활용을 통한 효율성 향상
- 비용 절감 효과 - 규모의 경제로 인한 대용량 자원 보유 및 운영
- 니치마켓(틈새시장)의 활성화 - 트렌드 변화에 맞춰 새로운 서비스를 개시하기 위한 유연한 IT 서비스 요구

# 2강. 온프레미스와 클라우드

## 온프레미스 시스템 구성 및 구축 과정

### 온프레미스 시스템 구축 단계

- 요구기능 수집 → 리소스 요구량 추정 및 추가 리소스 확보 계획 수립
- 설계 → 구체적 하드웨어 및 소프트웨어 선정 및 아키텍처 작성
- 조달 → 리소스별 벤더사 선정 및 의뢰, 협상(발주에서 조달까지 2~3주 소요)
- 구축 → 하드웨어, 소프트웨어 테스트
- 운영 → 모니터링, 백업, 시스템 보안 대응, 유지보수, 네트워크 관리 등 다양한 부대비용 발생

### IT 리소스의 요구량 대비 제공량

- 결핍과 잉여
- 사용자의 니즈를 먼저 맞춰야 하기 때문에 대부분 잉여가 발생할 수 있음

### 온프레미스 시스템 구축 및 운영 비용

- 직접 비용(Hard Cost) - IT 장비 또는 장비 도입을 하기 위한 외주 비용
    - 운영체제 및 SW, 하드웨어, 로드 밸런싱 및 방화벽 등
- 간접 비용(Soft Cost) - IT 장비를 사용하기 위해 사용되는 유지비용 및 기회비용
    - 직무 교육, 장비 관리 인력, HW&SW 유지보수 등

## 클라우드 기반 시스템 구축

### SLA (Service Level Agreement)

- 클라우드 서비스 제고앚가 사용자에게 제공하는 서비스 수준을 정량화하여 명확하게 제시하고, 미달하는 경우 손해 배상하도록 하는 서비스 품질 보장 계약

### 온프레미스와 클라우드 시스템 비용 비교

- CapEx(자본 지출) → 물리적 인프라에 대한 초기 비용 지출, 시간이 지남에 따른 납입 고지서에 비용을 공제하는 지출 방식
- OpEx(운영 지출) → 균등하게 지출 청구, 초기 비용 없이 사용하는 서비스 또는 렌탈 제품에 대한 지불 방식
- 클라우드는 IT 리소스 사용에 CapEx → OpEx로 전환 가능

## 클라우드 컴퓨팅 이용 방식

### 클라우드 컴퓨팅 이용 방식

- IaaS: H/W 리소스를 제공, 하드웨어만 제공 받고 기업이 직접 세팅 및 운영
    - e.g. 넷플릭스
- PaaS: 하드웨어 뿐만 아니라 다양한 도구도 같이 사용
- SaaS: 모든 서비스 위탁
    - 구글 워크스페이스, Notion, Replit 등

### 클라우드 시스템 배포 모델

- 퍼블릭 클라우드 → 일반 사용자 및 조직 등 공유하여 사용함 e.g. 네이버클라우드, 애저, AWS, GCP 등
    - CSP
- 프라이빗 클라우드 → 특정 기업이 독점적으로 데이터 센터를 구축하고 독점적으로 사용하는 모델
    - 삼성S클라우드, 온프레미스는 아니고 클라우드지만 삼성 조직 안에서만 사용
- 하이브리드 클라우드 → 2개 이상의 CSP와 퍼블릭 클라우드와 프라이빗 클라우드가 결합된 모델
    - 온프레미스(DB 같이 주요 부분은 여기서 관리), 클라우드(퍼블릭, 프라이빗) 같이 사용
- 멀티 클라우드 → 2개 이상의 퍼블릭, 2개 이상의 프라이빗 등 여러 클라우드의 조합을 활용하는 모델
- 커뮤니티 클라우드 → 은행 등 업무와 기능이 유사한 경우 조직들 간의 파트너쉽을 맺고 공동으로 접근하고 사용하는 모델

# 3강. 클라우드 컴퓨팅의 효과

## 클라우드 컴퓨팅의 장점과 도입효과

- 탄력성, 신속성, 경제성, 가용성, 신뢰성 → 비용절감, 인력문제 해소

## 클라우드 컴퓨팅 관련 기술

### 클러스터링 기술

- 고속 네트워크로 동기화되어 단일 시스템처럼 동작하는 독립적인 IT 리소스 그룹
- 이중화, 장애 복구 기능 내장 → 가용성, 신뢰성
- Homegeneous 환경(전통적으로 동일한 H/W와 OS 기반 구성)

### 그리드 컴퓨팅 기술

- 약결합 환경, 리소스의 결합성이 작고 서로 다른 기종의 리소스들이 물리적으로 분산
- Heterogeneous 환경

### 가상화 기술

- 물리적 컴퓨터 상에 가상 인스턴스(가상 머신, VM)를 생성하는 목적으로 사용
- 인스턴스간의 독립, 사일로처럼 별도로 운영

### 가상화 방식의 종류

- 호스트 가상화, 하이퍼바이저 가상화, 컨테이너 가상화

### 서버리스 컴퓨팅 기술

- 사용자 요청을 처리하고 결과를 제공하는 과정에서만 풀에서 서버가 할당되고 사용자 요청이 없을 때는 서버를 반환 → 일부 작업에 의해 트리거될 때만 실행되는 별도의 기능으로 분리
- 리소스를 탄력적으로 사용하여 비용 절감을 하기 위한 목적

## 클라우드 컴퓨팅의 단점

- 보안 취약성 증가, 책임 소재의 불분명, 제한된 이식성(산업 표준 또는 국제 표준 부재로 다른 CSP로 이동하는 것이 어려운 lock-in), 퍼블릭의 경우 실제 저장 위치를 모르기 때문에 법적 이슈가 있을 수 있음(e.g. 위치 정보), (장기간인 경우) 오히려 과도한 비용 지출의 가능성

# 4강. 클라우드 컴퓨팅의 특징

## 클라우드 컴퓨팅의 특징

- 온 디맨드 셀프 서비스 - 전문가의 개입 없이 필요한 만큼 자동적으로 확보해 사용 가능
- 광범위 네트워크 액세스 - 서버가 원격지 존재로 네트워크로 연결되어 있기에 기종에 상관없이 웹으로 접근 가능, fat or thick 클라이언트 thin 클라이언트 구분 없음
    - [https://honeydewlog.tistory.com/entry/클라우드의-장점-fatthin-클라이언트-구분이-없음](https://honeydewlog.tistory.com/entry/%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EC%9D%98-%EC%9E%A5%EC%A0%90-fatthin-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EA%B5%AC%EB%B6%84%EC%9D%B4-%EC%97%86%EC%9D%8C)
- 리소스 풀링 - 멀티태넌트 모델 기반, 동적 할당 e.g. 따릉이 같은 공공자전거와 비슷한 개념
- 신속한 탄력성 - 사용량에 따라 리소스 확장 및 축소, 요금 탄력성
- 투명한 사용자 측정

## 실습

- LUN, Logical Unit Number - 대용량의 디스크를 구성하고 논리적 디스크에 해당되는 고유 넘버

# 5강. 클라우드 이용 모델

## 클라우드 서비스 모델

### SaaS 모델

- 사용자에게 소프트웨어를 가상화하여 제공하는 모델 - 대부분 웹 브라우저를 통해 실행, 사용자 측에서는 다운로드 및 설치 필요 없음
- e.g. 구글 워크스페이스, 노션, 리플릿 등

### PaaS 모델

- 사용자가 직접 소프트웨어 개발 및 애플리케이션 실행을 위해 클라우드 제공자에게 플랫폼을 제공 받는 모델
- e.g. AWS Beanstalk

### IaaS 모델

- 사용자가 요구한 IT 리소스를 가상화하여 제공하는 모델

### FaaS(Function as a Service) 모델

- 대규모 시스템을 구성하는 개별 기능, 비즈니스 로직, 혹은 함수를 클라우드에 등록하고 실행 시 요구되는 IT 리소스를 CSP 측에서 관리하는 모델, 서버리스 기반의 이벤트
- PaaS와의 차이라면 FaaS는 요청할 때만 작동
- e.g. 이미지 분석 코드 작성 → 이미지 업로드 → 분석 결과 반환, 유후 상태
- e.g. Azure 함수 앱, AWS 람다, Google 클라우드 펑션

### CaaS(Container as a Service) 모델

- 사용자가 컨테이너 및 클러스터를 구동하기 위한 IT 리소스 및 기술을 제공
    - 컨테이너: 애플리케이션과 이를 구동하는 데 요구되는 리소스를 묶은 패키지
- e.g. Azure의 AKS(Azure Kubernetes Service), AWS ECS(Elastic Container Service)

## 클라우드 배포 모델

### 퍼블릭 클라우드

- CSP가 네트워크를 통하여 일반 사용자 및 기업이 이용할 수 있도록 컴퓨팅 리소스를 운영하는 모델

### 프라이빗 클라우드

- 하나의 기업이나 조직이 독립적으로 컴퓨팅 리소스를 점유하는 형태의 배포 모델
    - 호스팅형: CSP가 프라이빗 클라우드 구성 및 유지보수
    - 관리형: 사설 클라우드의 설정 및 관리를 CSP 측에서 제공

### 하이브리드 클라우드

- 퍼블릭 + 프라이빗 혹은 온프레미스 환경을 결합

### 멀티 클라우드

- 멀티 클라우드 관리 플랫폼을 통해 여러 CSP 서비스를 혼합하는 등 관리하는 모델

### 커뮤니티 클라우드

- 유사 도메인을 가진 여러 기업이 협력하여 그들만의 IDC를 만드는 등 공통된 보안 요구사항으로 독점적으로 사용될 수 있도록 컴퓨팅 리소스를 관리하는 모델

# 6강. 클라우드 컴퓨팅 기술 1

## 가상화 기술의 이해

- 소프트웨어적으로 IT 리소스를 논리적 분할 및 통합하여 리소스의 이용률과 가용성을 높이는 기술
- 물리적 리소스의 소유 비용 감축과 간편한 유지보수
- 리소스를 가상화하여 소프트웨어 플랫폼 역할을 함
- 가상 머신(VM) - 나누어진 기초적 논리적 단위의 머신
- 과거에는 하나의 하드웨어에 하나의 애플리케이션이었던 반면, 하나의 하드웨어 위에 여러 애플리케이션과 실행 환경 구성
- 파티셔닝, 캡슐화, 격리, H/W 독립화
    - [https://honeydewlog.tistory.com/entry/가상화-기술이란-v2](https://honeydewlog.tistory.com/entry/%EA%B0%80%EC%83%81%ED%99%94-%EA%B8%B0%EC%88%A0%EC%9D%B4%EB%9E%80-v2)

## 서버 가상화

- 1960년대부터 다수의 IT 리소스 관리와 운영의 어려움을 보완하기 위한 목적으로 연구 및 개발
- 서버 가상화의 분류 - 호스트 가상화 방식(현재는 거의 이용되지 않음), 하이퍼바이저 가상화 방식, 컨테이너 방식
- 호스트 가상화 방식 - H/W에 설치된 호스트 OS 상에 가상화 S/W가 설치되고 그 위에 SW 실행을 위한 게스트 OS가 구동
    - 호스트 OS - 직접적인 하드웨어 관리
    - 게스트 OS -가상 머신에게 소프트웨어 실행 환경 제공
    - VMWare Workstation, Microsoft Virtual Server, Oracle Virtual Box
    - 두 개의 OS 공존으로 오버헤드 발생
- 하이퍼바이저 가상화 방식 - 하드웨어에 직접 게스트 OS가 직접 설치되는 구조
    - 전가상화(full-virtualization) - 하드웨어를 완전히 가상화, 모든 게스트 OS 커널의 요청이 DOM0로 통해 번역하고 전달, 때문에 병목현상으로 성능 저하 이슈
    - 반가상화(para-virtualization - 게스트OS가 하이퍼콜을 요청할 수 있도록 커널이 수정된 형태, 커널이 수정되어야 하기 때문에 리눅스와 같은 오픈소스 외에는 반가상화가 어려움
- 컨테이너 가상화 방식
    - 컨테이너 - 애플리케이션을 동작시키는 데 필요한 라이브러리 및 종속 리소스를 함께 패키지로 묶어 생성한 호스트 OS상의 논리적인 구역
    - Docker - 반가상화보다 더 경량화된 방식을 사용하는 리눅스 컨테이너를 기반으로 이미지 생성과 배포에 특화
    - Kubernetes - 컨테이너 분산 배치, 상태 관리 및 구동 환경을 관리해주는 도구, Docker를 2022년 5월부터 지원하지 않음

# 7강. 클라우드 컴퓨팅 기술 2

## 네트워크 가상화

- 네트워크상의 물리적 동질성을 논리적으로 분할하여 여러 네트워크로 분할하는 기술
- 네트워크 가상화 장점
    - 네트워크 리소스 보안 향상 - 논리적 분할로 보안상 발생할 수 있는 문제 차단
    - 비용절감 - 라우터, 스위치 등 추가적인 장치 요구되지 않음
    - 설정 편의성 - 간단한 설정만으로도 구성 및 관리 가능
- 네트워크 가상화 관련 기술 - VLAN, VPN, NFV, SDN
- VLAN(Virtual LAN) - L2 스위치로부터 발신되는 모든 패킷에 포트 별 부여된 고유 번호 태그 붙임
    - 지정되지 않은 태그 차단
    - 태그를 통해 하나의 물리적 네트워크 안에서 여러 그룹으로 분할 가능
    - 네트워크 분할 구조가 변경되면 모든 데이터를 재구성해야 한다는 단점
- VPN(Virtual Private Network)
    - 사설 네트워크 구축의 경우 전용 회선 설치에 막대한 비용이 들긴 때문에 가상의 전용선을 통해 동일한 효과 제공, 터널링을 통해 가상의 전용선과 같은 사설 네트워크 효과를 제공
    - 터널링 - 논리적으로 분할된 네트워크는 추상적으로 같은 도메인 내에 있는 지정된 호스트만 연결하기 위한 오버레이 네트워크를 구성, PPTP, IPsec 등 사용
- NFV(Network Functions Virtualization) - 별도 장비(방화벽, 라우터, 스위치) 도입 없이 소프트웨어로 가상화하여 서버에 구축(방화벽 기능, 스위치 기능, 라우터 기능 등)
- SDN(Software Defined Networking) - 조직 전체의 제어층을 소프트웨어 기반 기술로 전환 및 가상화


# 8강. 연습문제 풀이 1

- 클라우드 컴퓨팅에서 사용하는 서버 가상화 방식 - 호스트, 하이퍼바이저, 컨테이너 가상화
- 클라우드 컴퓨팅의 특징 - 서비스 사용량 측정, 리소스 풀링, 신속한 탄력성
- CSP가 서비스의 수준을 정량화하여 명확하게 제시하고 미딜하는 경우 손배하는 것 → SLA(Service Level Agreement)
- 클라우드 컴퓨팅 보급 원인 - 서버의 유휴 리소스 활용을 통한 효율성 향상, 규모 경제에 따른 비용 절감, 유연한 IT 서비스 요구
- 리소스 제공량의 상태는 잉여와 결핍으로 결정
- H/W 및 S/W 설비를 자체적으로 보유하고 운융하는 방식 → 온프레미스
- 가상화 기술의 기본적 특성 → H/W 독립성 - 각 VM은 서로 격리되어 운영되기 때문에 마이그레이션이 용이함
- 여러 조직의 업무와 기능이 유사한 경우 파트너쉽을 맺고 연합된 조직이 공동으로 사용하는 클라우드 시스템 배포 모델 → 커뮤니티 클라우드
- 인바운드 포트 규칙 → 가상 머신에 접속할 수 있는 특정 포트(대역)을 허가/제한함
- 태그 정보를 설정하여 태그에 상응하는 그룹으로 패킷을 전송하는 네트워크 가상화 기술 → VLAN
- 각각의 사용자에게 실제 IT 리소스인 것처럼 CPU, 메모리, 저장장치를 할당이 가능하도록 물리적 컴퓨터 환경 상에 여러 가상 인스턴스를 만드는 데 사용되는 기술 → 가상화 기술
- 자신의 컴퓨팅 역할을 충족시키지 위해 다른 일부 컴퓨터(서버)에 크게 의존하는 컴퓨터나 네트워크의 클라이언트 → 씬 클라이언트, 운영체제조차 없는 클라이언트 → 제로 클라이언트
- 온프레미스 시스템 구축 시 직접비용(H/W, S/W, 물리 보안), 간접비용(직무 교육, 장비관리 인력)
- 클라우드 컴퓨팅의 단점 - 과도한 비용 지출(일 수도 있음), 제한된 이식성, 책임 소재의 불분명

# 9강. 클라우드 컴퓨팅 기술 3

## 스토리지 기술 및 다중화

- 단순 데이터 저장 뿐만 아니라 대용량 및 고속 데이터 처리, 효율적 데이터 공유, 확장성 등 역할 수행
- 스토리지 논리적 접근 단위 → 형태별 데이터 관리 메카니즘 - 파일, 블록, 데이터 세트, 오브젝트
- 스토리지 다중화 및 확장 기술 → 단일 디스크로 처리할 수 없는 고용량 데이터를 처리하기 위해 디스크를 논리적으로 묶어 서버와 연결하여 사용하는 스토리지 구성 방식
    - RAID(Redundant Arrays of Independent Disks) - 다수의 디스크를 병렬적으로 구동하는 동시에 시스템의 신뢰성 향상시키는 기법, 중복 데이터 분산 저장, 장애 발생 시 손실 데이터 복구 가능
        - RAID 0: 스트라이핑 → 여러 디스크에 나눠서 저장 가능하게 하는 기술
        - RAID 1: 미러링 → 두 개의 디스크가 완전히 동일한 데이터를 저장할 수 있게 만듬, 저장 가능한 용량은 적지만 안정성 향상
        - RAID 3 or 4: 별도의 패리티 디스크, 3은 바이트 단위, 4는 블록 단위
    - NAS(Network Attached Storage) - 네트워크 스위치를 통해 데이터를 송수신하는 저장장치, 저장 전담 서버가 필요함, NAS에 대량의 I/O가 발생할 경우 지연율이 증가하여 DB와 같은 서비스에 부적합
    - SAN(Storage Area Network) - 이더넷 선이 아닌 광섬유 전용 채널(파이버 채널)을 통해 고속 데이터 네트워크 - 고속의 I/O 채널 제공, LUN 구축, 이기종 서버 환경 지원에 한계, 광섬유 스위치가 있어야 하기 때문에 굉장히 고가
- 스토리지 가상화 구조 - 여러 스토리지 디바이스를 단일 리소스로 인식하고 프로비저닝, 가용성 확보 및 무중단 서비스 기능 지원
- 스토리지 가상화 기술
    - 디스크 컨트롤러 가상화 - 컨트롤러 파티션으로 나누어 여러 개의 컨트롤러가 있는 것처럼 가상화
    - 네트워크 기반 스토리지 블록 가상화 - 서로 다른 스토리지 컨트롤러부터 유휴 디스크 공간을 모아 하나의 큰 디스크 풀을 만들어 제공, CSP에서 주로 사용
    - 소프트웨어 정의 스토리지 - 하드웨어와 스토리지 소프트웨어를 분리하는 스토리지 아키텍처, 하드웨어에 대한 소프트웨어의 종속성 제거로 사용자의 필요에 따라 스토리지 가변 확장

## 클라우드 서비스 무정지 기술

- 무정지 기술의 이해 - SPOF(Single point of failure): 시스템 구성 요소 중 일부 정상적으로 동작하지 않으면 시스템 전체가 중단되는 지점 또는 장치, 이런 SPOF가 발생하지 않도록 장치 필요
- 장애 방지 시스템(Fault tolerance system) - 일부의 결함, 고장에도 정상적 혹은 부분적 기능 수행 가능한 시스템
- 장애 조치 시스템(Failover system) - 이상이 생겼을 때 예비 시스템으로 자동 전환 기능의 시스템
- 장애 감지 기법의 예 - 하트비트 모니터링(헬스 체크), 모니터와 감시 대상과의 하트비트를 주고 받으면 모니터링, 타임아웃이 생기면 장애발생
- 클라우드 서비스에서의 장애 조치 시스템 - 운영 중인 가상 서버는 새로운 물리 서버의 하이퍼바이저에게 새 가상 서버 생성 요청, 생성 완료 시 마이그레이션


# 10강. 클라우드 아키텍처 1

## 클라우드 아키텍처의 이해

- 서비스 오케스트레이션
    - 자동화된 리소스 프로비저닝 - 필요 없을 땐 회수하고 필요하다고 판단되면 자동적으로 시스템을 확장 및 축소 가능
    - 리소스 배치를 자동화하기 위한 설정, 관리, 조정 작업
- 클라우드 서비스 관리
    - 리소스 과금, 감사 정책 등을 위한 경영 지원
    - 리소스 배치, 변경, 모니터링, SLA 관리 등을 위한 프로비저닝/구성
    - 타 시스템으로의 이전, 2개 이상의 시스템 간의 원활한 정보 교환을 위한 이식성/상호 운영성
- 서비스 오케스트레이션이나 클라우드 서비스 관리 등을 위해 클라우드 아키텍처링이 필요
    - 리소스 풀링
    - 로드 밸런싱
    - 오토 스케일링
    - 클라우드 버스팅
- 클라우드 아키텍처링이 없는, 혹은 이해가 떨어지는 경우 갑작스러운 증가에 대처 불가, 컴퓨팅 리소스의 문제 발생 시 대처 불가, 과도한 아키텍처링의 경우 비용 증가, 소극적인 경우 응답 지연 등으로 인한 서비스 만족도 저하
- 1년에 5분 14초 이하의 장애시간만 허용하는 매우 높은 수준의 HA(고가용성)을 위해선 아키텍처링이 필요

## 리소스 풀링과 로드 밸런싱

- 리소스 풀링
    - 사용자 요청 발생 시 즉시 리소스 풀로부터 리소스를 사용하고 사용 종료 후 리소스를 반환하는 과정
    - 리소스 풀 - 즉시 사용할 수 있는 서버, 스토리지 등으로 사용자로부터 물리적으로 가까운 위치에 구성하는 것이 좋음
- 리소스 풀 내의 자원의 특징
    - IDC의 특정 서버, 스토리지 내부의 지리적 위치 등 물리적 위치를 알 수 없음
    - 인프라 엔지니어가 없더라도 주요 관리자 기능 외에는 추상화되어 있어서 사용이 용이함
    - 서비스에 따라서 자유롭게 사용되고 해제 가능
    - 리소스 풀 구성 - 도시, 국가 단위의 계층적 구조로 사용자가 리소스 요청 시 인접한 리소스를 즉시 사용하기에 용이
- 리소스 풀의 구조화
    - 한국의 경우 중부와 남부 양쪽에 거대한 IDC를 두고 있고, 국가 단위 유형별 리소스 풀을 갖고 있으며, 다시 도시 단위 유형별 리소스 풀을 갖고 있음, 즉 어디서든 인접한 자원을 사용 가능하도록 구성
        
        ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cbe44aa2-7fb2-4c72-86b3-711de49a1f7f/f2b43084-92b2-48b1-a03e-507cab64bfce/image.png)
        
- 그룹 풀 - 항상 동일한 유형의 리소스를 요청하는 것이 아니기 때문에 리소스 유형별로 모아 놓은 풀 여러 개를 큰 풀로 묶어놓은 것
- 리소스 풀 모니터링 - 리소스 풀의 사용량, 정상적으로 가동되는지 모니터링
- 로드 밸런싱의 이해 - 사용자의 요청을 여러 대의 서버로 분산시키는 기법
    - 갑작스러운 이용자의 증가나 서비스의 규모 변경으로, 운용중인 서버나 시스템의 용량과 성능을 확장 및 축소, 더 좋은 리소스로 확장하는 스케일 업 및 비슷한 구성의 서버를 여러 대로 늘리는 스케일 아웃과 같은 스케일링
    - 일반적으로 클라우드 환경에서는 스케일 아웃을 사용
- 스케일링 방식 비교
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cbe44aa2-7fb2-4c72-86b3-711de49a1f7f/c1edffd3-08ff-4822-8270-cd9c9605f565/image.png)
    
- 로드 밸런싱의 역할 - 로드 밸런서가 여러 대의 서버에 요청을 배분, 부하 분산, OSI 7레이어의 4번째 레이어에서 보통 처리하기 때문에 L4 스위치가 로드 밸런서 역할을 함
    - 브로커 서버를 통해 구현하기도 함

# 11강. 클라우드 아키텍처 2

## 오토 스케일링

- 사용자의 증가/감소에 따라 스케일링을 통한 리소스의 유동적 변화가 필요 → 수평 스케일링 자동화, 리소스 풀링과 로드 밸런싱
- 요구 기술
    - 클라우드 사용량 모니터 → 리소스 사용량 감시, 임곗값 설정 및 수행 작업 지정
    - 자동 확장 리스너 → 모니터링 중 특정 상황 발생 시 이벤트 전달, 갑작스러운 사용량 증가 시 리소스풀에서 사용하고 마무리 시 반환
- 자동 확장 리스너 동작 예시 → CPU 사용률에 따라 자동화된 동작 지정
    - CPU 사용률 90% 초과 시 가상 서버 추가 및 로드 밸런서에 연결
    - CPU 사용률 30% 미만 시 종료 스크립트에 따라 가상 서버 로드 밸런서에서 분리, 가상 서버 반환

## 클라우드 버스팅

- 퍼블릭이 아닌 프라이빗 클라우드를 사용하는 환경에 적용
- 프라이빗 환경에서 처리량을 감당할 수 없는 상황이 되면 일시적으로 퍼블릭 클라우드에 이관하여 시스템의 처리 성능을 향상
    - 프라이빗 클라우드 환경의 서비스 구조와 동일한 구성을 퍼블릭 클라우드에 미리 구성해둠
    - 임곗값 등을 설정해서 클라우드 버스팅 사용 조건 설정 및 이관 대상 데이터와 애플리케이션 지정
    - 특정 이벤트가 발생하면 프라이빗 클라우드의 데이터 및 애플리케이션을 퍼블릭 클라우드로 전송
- 버스트 아웃: 퍼블릭 클라우드로 확장, 버스트 인: 프라이빗 클라우드로 축소
    
    ![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/cbe44aa2-7fb2-4c72-86b3-711de49a1f7f/a7628e0c-91ec-4983-9a28-d6b6a9efdd32/image.png)
    
- 데이터 복제 시 주의사항
    - 프라이빗 클라우드를 사용한 이유가 있었을 텐데, 퍼블릭으로의 복제가 가능한지 보안 및 규정 요구사항 파악 필요
    - 대량의 데이터 이관으로 서비스 대기 시간이 생길 수 있음

## 무중단 서비스 재배치

- 포털이나 금융처럼 사용자가 상시 이용하는 서비스는 시스템 중단이 없는 환경을 요구, 24/365 정책 수립
- 불가피하게 시스템을 중단해야 하는 상황에서도 무중단 서비스 재배치를 통해 다운 타임을 최소화하는 기법
- 온프레미스 환경에서의 무중단 서비스 대응
    - 이중화 서버 구조 구축 → 서버 구축, 구성, 유지보수 비용 발생
    - 이중화 방식
        - 액티브-액티브 → 이 두 개의 서버 모두 활성화되어서 서비스 가능한 상태
        - 액티브-스탠바이 → 한 쪽은 활성화, 한쪽은 대기
            - 콜드 스탠바이 - 실제 전원이 꺼진 상태, 전기료 등 유지보수 비용 절감, 하지만 액티브에 문제가 있는 경우 액티브로 전환하기 위한 대기 시간이 늘어남
            - 핫 스탠바이 - 가동중, 대기 상태이지만 즉시 이어받을 수 있음
- 클라우드 환경에서의 무중단 서비스 대응
    - 문제가 발생하거나 특정 이벤트가 발생했을 때 미리 작성해둔 스크립트로 서버를 복제하고 서비스를 제공해줄 수 있는 상태를 만들어주면서 다운타임 최소화
    - 미리 생성해둬서 이중화 구조로 만들어둘 수도 있음
- 가상 디스크 이관에는 시간이 걸릴 수 있기 때문에 로컬과 공유 디스크의 적절한 데이터 분배
    - 로컬: OS와 프로그램 코어 파일 등 자주 접근되는 데이터, 데이터베이스
    - 공유 디스크: 그 외의 데이터