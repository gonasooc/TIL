# 1강. 운영체제 소개

## 운영체제란 무엇인가

### 컴퓨터 시스템의 구성

- 운영체제 - 대표적인 시스템 소프트웨어, 컴퓨터 시스템 자원을 관리하고 프로그램 동작을 위한 서비스를 제공하는 프로그램들의 모음

### 운영체제의 역할

- 컴퓨터 시스템의 자원 관리 - 컴퓨터 시스템을 효율적으로 운영하는 목적
- 사용자 지원 - GUI 등 사용자 편의성 제공

### 컴퓨터 시스템과 운영체제

- 운영체제가 없던 초기의 컴퓨터 시스템
  - 응용 프로그램에서 직접 시스템의 자원 제어 → 즉, 개발자가 로우 레벨에서 개발해야 하기 때문에 하드웨어 제어 방법을 잘 알아야 함 ex) 몇 번 포트에 빛을 쏴준다거나
  - 여러 사용자가 하드웨어를 공유하는 경우 자원 분할 어려움
- 운영체제가 있는 컴퓨터 시스템
  - 하드웨어와 응용 프로그램 사이에 운영체제 위치
  - 여러 사용자의 자원 분배 및 제어 가능 → 안정적으로 효율적으로 동작 가능

### 커널 모드와 사용자 모드

- 커널 모드(슈퍼바이저 모드) - 하드웨어 직접 제어
- 사용자 모드 - 하드웨어 직접 제어 불가능
- 일체형 커널(monolithic kernel) - 운영체제의 모든 서비스가 커널 내에 포함
  - 커널 내부 요소들이 효율적 상호작용
  - 하나라도 오류가 발생하면 전체 장애 발생
  - ex) UNIX, Linux
- 마이크로커널(mircokernel) - 운영체제 요소 대부분을 커널 외부에 분리
  - 메모리 관리, 멀티태스킹 등 최소한의 요소만 커널 내 남김
  - 새로운 서비스 추가로 운영체제 확장 쉽고, 유지보수 용이하고 안정성이 우수함
  - 커널 외부 요소들 사이에 IPC(프로세스 통신)가 필요해서 성능 저하 발생
- 일반적으로 사용자 모드를 사용하다가 하드웨어에 대한 제어가 필요한 경우(**시스템 호출**) 커널 모드로 전환 → 제어가 끝나면 다시 사용자 모드로 전환

## 운영체제의 구성

- 컴퓨터 시스템 자원의 성격에 따라 구분
  - 프로세스 관리자, 메모리 관리자, 파일 관리자, 장치 관리자

### 프로세스 관리자

- 메모리에서 실행 중인 프로세스의 생성 및 삭제 등 관리, CPU 할당을 위한 스케줄링

### 메모리 관리자

- 메모리 할당 및 회수, 공간 보호(ex) OS가 사용하는 메모리 공간 보호) 등

### 장치 관리자

- 모든 장치에 대한 관리

### 파일 관리자

- 저장장치의 공간 관리 및 파일의 접근 제한 등 관리

## 운영체제의 유형

### 일괄처리 운영체제

- 작업을 모아서 순서대로 처리하는 방식
- 앞선 작업들을 기다려야 해서 상호작용 없이 기다려야 하는 비효율성 존재

### 시분할 운영체제(time-sharing)

- 대화형(interactive) 운영체제라고도 함
- 응답시간이 일괄처리 운영체제보다 크게 단축됨

### 실시간 운영체제(RTOS)

- 처리 결과가 현재의 결정에 영향을 주는 특수 목적의 환경에서 사용 ex) 미사일 제어 시스템, 증권거래 관리 시스템 등
- 우선순위가 높은 작업을 먼저 처리

### 분산 운영체제

- 2개 이상의 컴퓨터 시스템이 네트워크로 서로 연결되어 서로의 자원을 이용하는 시스템

# 2강. 프로세스와 쓰레드

## 프로세스

- 프로세스(process): 실행 중인 프로그램 - 시스템 프로세스(백그라운드) / 사용자 프로세스
  - 프로그램: 동작을 하지 않은 정적, 수동적 개체
  - 프로세스: 동작을 하는 능동적 개체
- 운영체제로부터 자원 할당
  - 자원: CPU, 메모리, 입출력장치, 파일 등
  - 동작: CPU가 프로세스의 명령을 실행
- 운영체제는 프로세스를 실행 및 종료하고, 스케줄링하면서 관리
- 메모리 구조 - 코드 영역/데이터 영역
  - 코드 영역은 프로그램 자체
  - 데이터 영역(정적 데이터/스택/힙) - 실행 시 필요한 데이터, 상수나 변수, 서브프로그램 호출 상태 등
- 프로세스 제어 블록(Process Control Block: PCB) - 운영체제가 프로세스 관리를 위해 필요한 정보
  - 프로세스 번호(PID), 프로세스 상태, 프로그램 카운터(PC), 레지스터, 메모리 관리 정보, 프로세스 우선순위, 회계정보
- 프로세스 상태 관리
  - 생성 - 준비 - _대기_ - 실행 - 종료
- 프로세스 상태 변화
  - 생성 → 준비 →(디스패치)←(할당시간 만료) 실행 →(이벤트 대기) 대기 →(재개 조건 만족), 실행 → 종료
- 부모 프로세스와 자식 프로세스
  - 사용자가 직접 실행할 수도 있지만 한 프로세스가 다른 프로세스를 생성할 수 있음 → 프로세스 생성 시스템 호출 이용
  - 부모 프로세스는 그 시스템 호출을 하는 프로세스
  - 자식 프로세스는 시스템 호출을 통해 새로 생성된 프로세스
  - UNIX, Linux
    - fork() - 자식 프로세스는 부모 프로세스의 복제본(PID만 다르게 부여)
    - exec() - 자식 프로세스는 부모 프로세스와는 다른 프로그램 실행(PID 외 데이터는 다 변동)
  - Windows
    - CreateProcess() - 자식 프로세스는 아예 애초에 새로운 프로그램으로 생성
- 프로세스 종료 방법
  - 프로세스가 모든 처리를 완료(정상 종료)
  - 부모 프로세스에 의해 자식 프로세스 강제 종료
    - 종료 시스템 호출 이용
    - 자식 프로세스 생성 시 얻은 자식 PID 이용
  - 부모 프로세스가 종료되면 자식 프로세스 같이 종료

## 쓰레드

- 쓰레드 - 프로세스 내에서 다중 처리를 위해 제안된 개념
- 하나의 프로그램 실행을 위한 기본적인 단위, 디스패칭의 단위
- 쓰레드는 실행에 필요한 최소한의 정보만 가짐
  - PC를 포함한 레지스터 값
  - 상태 정보
  - 스택 영역
  - 그 외 나머지 정보는 프로세스에 두고 다른 쓰레드와 공유
- 다중 쓰레드로 구성된 프로세스
  - 멀티 CPU 또는 멀티코어 컴퓨터 시스템 - 다중 쓰레드로 병렬 처리 가능
  - 처리속도 별로 쓰레드가 나눠진 경우 - 효율적인 처리 가능

# 3강. 프로세스 스케줄링
