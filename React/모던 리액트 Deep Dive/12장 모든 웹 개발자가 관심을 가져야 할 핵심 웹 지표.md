# 12.1 웹사이트와 성능

- 웹사이트의 성능은 사용자의 전자상거래 전환율이나 이탈율과 밀접하게 관련되어 있습니다. 현재 네트워크 속도나 모바일 기기의 성능은 발전하고 있지만 그와 동시에 여전히 대부분의 모바일 사이트는 너무 많은 요소 때문에 비대해지기도 했습니다. 많은 개발자들이 성능에 크게 관심을 기울이지 않는 것 또한 사실인데, 실무에서 일정을 넉넉히 잡고 성능을 개선하는 것이 쉽지 않을 뿐더러 작업 대비 눈에 띄는 성능 향상을 기대하기도 어렵기 때문입니다.
- 그럼에도 불구하고 앞서 전환율이나 이탈율을 고려해서 웹사이트의 성능에 주의를 기울여야 합니다. 과거에는 로딩 속도나 전환율 등으로 지엽적으로 판단했지만, 몇 년 전부터 구글은 핵심 웹 지표(Core Web Vital)이라고 하는, 사용자 경험에 대해 몇 가지 핵심 지표를 제시하고 있습니다.

# 12.2 핵심 웹 지표란?

- 핵심 웹 지표(Core Web Vital)은 사용자 경험을 제공하는 데 필수적인 지표를 일컫는 용어입니다. 일관된 판단을 위해 구글은 핵심적인 웹 지표를 몇 가지로 요약하고, 이를 측정할 수 있는 방법, 좋은 웹사이트의 기준을 명확하게 제시해두었습니다.

# 12.3 최대 콘텐츠풀 페인트(LCP)

## 12.3.1 정의

- LCP(Largest Contentful Paint)란 ‘페이지가 처음으로 로드를 시작한 시점부터 뷰포트 내부에서 가장 큰 이미지 또는 텍스트를 렌더링하는 데 걸리는 시간’을 말합니다.
- 뷰포트는 사용자마다, 즉 기기마다 다른데 ‘큰 이미지와 텍스트’는 다음과 같이 정의되어 있습니다.
  - <img>
  - <svg> 내부의 <image>
  - poster 속성을 사용하는 <video>
  - url()을 통해 불러온 배경 이미지가 있는 요소
  - 텍스트와 같이 인라인 텍스트 요소를 포함하고 있는 블록 레벨 요소
    - 이 블록 레벨 요소에는 <p>, <div> 등 포함

## 12.3.2 의미

- DOMContentLoaded 이벤트는 스타일시트나 이미지 등의 로딩을 기다리지 않기 때문에 ‘웹페이지가 로딩이 완료되어 사용자에게 노출되기까지 걸리는 시간’이라고 보기는 어렵습니다. 또한 사용자 페이지 로딩을 체감하기 위해서 모든 페이지를 로딩될 필요가 없기 때문에 뷰포트를 기준으로 하는 LCP가 지표로 만들어졌다고 볼 수 있습니다.

## 12.3.3 예제

- 페이지에 따라서, 실제로 로딩에 필요한 시간에 따라서 LCP의 대상, 혹은 지표가 달라질 수 있습니다.

## 12.3.4 기준 점수

- LCP에서 좋은 점수는 2.5초 내로 응답이 오는 것이고, 4초 이내는 보통, 그 이상은 나쁨으로 판단됩니다.

## 12.3.5 개선 방안

### 텍스트는 언제나 옳다

- 조율을 통해 가능하다면 이미지보다 텍스트로 뷰포트 최대 영역을 채우는 것이 가장 좋기는 합니다.

### 이미지를 어떻게 불러올 것인가?
