# 6.3 리액트 개발 도구 활용하기

## 6.3.1 컴포넌트

- Components 탭에서는 현재 리액트 애플리케이션의 컴포넌트 트리를 확인할 수 있고, 구조뿐만 아니라 `props`와 내부 훅 등도 확인 가능합니다.

### 컴포넌트 트리

- 트리 구조를 보여주고, 기명 함수로 선언되어 컴포넌트명을 알 수 있다면 해당 컴포넌트명을 보여주고, 익명 함수로 선언돼 있다면 `Anonymous`라는 이름으로 컴포넌트를 보여줍니다.
- `memo`를 사용해 익명 함수로 만들거나 고차 컴포넌트 사용 등의 이유로 컴포넌트의 명칭을 제대로 추론하지 못하는 경우도 있습니다. 이런 경우 익명 함수를 기명 함수로 변경하거나, 만약 변경이 어려운 경우에는 함수에 `displayName` 속성을 추가하는 방법도 있습니다. 단, `displayName`는 빌드 도구가 사용하지 않는 코드로 인식해 삭제할 가능성이 있기에 개발 모드에서만 제한적으로 참고하는 것이 좋습니다.

### 컴포넌트명과 props

- 컴포넌트 도구들을 통해 해당 컴포넌트의 HTML의 렌더링 위치를 확인하고, 해당 컴포넌트의 `props`, `nodes` 등을 콘솔 탭에 실행하거나 소스 코드 자체를 확인할 수 있습니다.
- `useEffect`를 포함해서 대부분의 훅은 익명 함수를 인수로 넘겨주기 때문에 개발 도구에서 어떤 훅인지 구별하지 어려울 수 있는데, 앞서와 마찬가지로 기명 함수로 선언하면 더 유용하게 이용할 수 있습니다.
- `rendered by`는 해당 컴포넌트를 렌더링한 주체가 누구인지 확인 가능합니다. 프로덕션 모드에서는 react-dom의 버전만 확인 가능하지만 개발 모드에서는 렌더링한 부모 컴포넌트까지 확인 가능합니다.

## 6.3.2 프로파일러

- 컴포넌트 메뉴가 정적인 현재 리액트 컴포넌트 트리의 디버깅을 위한 도구라면 프로파일러는 리액트의 렌더링 과정에서 발생하는 상황을 확인하기 위한 도구입니다. 어떤 컴포넌트가 렌더링됐는지, 몇 차례 렌더링됐으며 어떤 작업에서 오래 걸렸는지 등 렌더링 과정에서 발생하는 일을 확인할 수 있습니다.
- 렌더링 과정에 개입해 디버깅에 필요한 내용을 기록해야 하기 때문에 개발 모드에서 확인 가능합니다.
- 주요 설정
  - General - Highlight updates when components render: 컴포넌트가 렌더링될 때마다 하이라이트 표시
  - Debugging - Hide logs during second render in Strict Mode: 리액트 엄격 모드의 `useEffect` 등이 두 번씩 작동하는 의도적 작동 비활성화
  - Profiler - Record why each component rendered while profilling: 프로파일일 도중 뭐 때문에 컴포넌트가 렌더링됐는지 기록, 속도는 조금 느려질 수 있지만 디버깅에 도움 되는 옵션

### 프로파일링

- ‘Start Profiling’ 버튼으로 시작, ‘Stop Profiling’ 버튼으로 중지하며, ‘Reload and Start profiling’을 통해서 웹페이지 새로고침과 동시에 프로파일링 시작이 가능합니다. JSON 파일을 다운로드하거나 업로드해서 도구 내에 확인 가능하지만 직접 열어서 확인하기에는 복잡한 구조를 갖고 있습니다.
- Flamegraph 탭은 렌더 커밋별로 어떤 작업이 일어났는지 확인 가능하고, 렌더링되지 않은 컴포넌트에 대한 정보도 확인할 수 있습니다. Ranked 탭은 단순히 오랜 시간이 걸린 컴포넌트를 순서대로 나열한 그래프로 렌더링이 발생한 컴포넌트만 보여줍니다. Timeline 탭은 시간의 흐름에 따라 리액트가 작동하는 내용을 추적하는 데에 유용합니다.
