# 7.1 크롬 개발자 도구란?

- 크롬 개발자 도구란 크롬에서 제공하는 개발자용 도구로, 웹페이지에서 일어나는 거의 모든 일을 확인할 수 있는 도구입니다. 좀 더 명확하게 디버깅하고자 한다면 개인 정보 보호 모드에서 실행하는 편이 좋은데, 브라우저마다 개인화되어 있는 확장 프로그램 등의 이유로 해당 프로그램의 전역 변수나 HTML 요소가 추가될 수 있기 때문입니다.

# 7.2 요소 탭

## 7.2.1 요소 화면

- DOM에 직접 접근해서 조작할 수 있기 때문에 hot reloading 없이도 수정 및 확인이 가능해서 빠른 작업이 가능합니다. 해당 element에 우클릭 후 중단 위치(break on)를 선택하고 중단을 원하는 옵션을 선택하면 해당 element의 중단과 관련된 작업이 일어날 때마다 렌더링을 중단하고 해당 요소의 변경을 일으킨 소스코드를 보여줍니다.

## 7.2.2 요소 정보

- Styles: 요소와 관련된 스타일 정보
- Computed: 해당 요소의 size, padding, border, margin 등의 결괏값을 확인하고 어떻게 계산되었는지 확인
- Layout: CSS 그리드나 레이아웃에 관련된 정보
- Event Listeners: 현재 요소에 부착된 각종 이벤트 리스너
- DOM Breakpoints: 설정된 중단점 확인
- Properties: 해당 요소의 속성값 확인, .attributes로 접근했을 때와 비슷
- Accessibility: 접근성과 관련된 정보 확인

# 7.3 소스 탭

- 앞서 DOM 요소에 중단점을 걸었던 것처럼, 중단점을 통해서 자바스크립트 실행을 중단시키고 디버깅을 수행할 수 있습니다.
- 소스 탭 내에서 제공하는 정보와 기능
  - Watch: 감시는 말 그대로 감시하고 싶은 변수를 선언하고, 해당 변수의 정보를 확인할 수 있음
  - Breakpoints: 현재 추가한 중단점을 볼 수 있음, 현재 열린 소스 뿐만 아니라 전체에 걸쳐서 확인 가능
  - Scope: 현재 중단점에서의 스코프를 의미, 로컬은 현재 로컬 스코프로 접근 가능한 값을 확인할 수 있고, 그 외에 클로저, 전역 스코프 등 확인 가능
  - Call Stack: 현재 중단점의 콜스택 확인 가능, 자바스크립트 코드의 실행과 생성되는 실행 콘텍스트 확인 가능
  - Global Listeners: 현재 전역 스코프에 추가된 리스너 목록 확인 가능
  - XHR/fetch Breakpoints, DOM Breakpoints, Event Listener Breakpoints, CSP Violation Breakpoints: 다양한 중단점 확인 가능

# 7.4 네트워크 탭

- 해당 웹페이지를 접속하는 순간부터 발생하는 모든 네트워크 관련 작동이 기록됩니다. 네트워크 요청 종류를 필터링할 수 있고, 호출하는 주소의 요청이나 받아온 리소스를 확인해서 디버깅하는 것이 가능합니다.

# 7.5 메모리 탭

- 현재 웹페이지가 차자하고 있는 메모리 관련 정보를 확인할 수 있는데, 메모리 누수나 속도 저하, 혹은 웹페이지 프리징 현상을 확인할 수 있는 도구입니다.
- 리액트 개발 도구의 프로파일과 비슷하게 프로파일링 작업을 거쳐야 원하는 정보를 볼 수 있습니다.
  - Heap Snapshot: 스냅샷이라는 이름에 걸맞게 현재 메모리 상황을 촬영할 수 있음, 현 시점의 메모리 상황 확인
  - Allocation instrumetation on timeline: 현 시점이 아닌 시간의 흐름에 따라 메모리 변화를 살펴보고 싶을 때 사용, 주로 로딩이 되는 과정의 메모리 변화 또는 페이지에서 어떤 상호작용을 했을 때 메모리 변화 과정을 알고 싶을 때 사용
  - Allocation Sampling: 메모리 공간을 차지하고 있는 자바스크립트 함수 확인 가능

## 7.5.1 자바스크립트 인스턴스 VM 선택

- 하단에 위치한 자바스크립트 VM 인스턴스 선택 항목을 통해서 현재 실행 중인 자바스크립트 VM 인스턴스를 확인할 수 있습니다. 환경별 힙 크기를 볼 수 있는데, 이 크기만큼 브라우저에 부담을 주기 때문에 크기가 늘어나지 않는지 눈여겨볼 필요가 있습니다.

## 7.5.2 힙 스냅샷

- 힙 스냅샷은 촬영하는 시점을 기준으로 메모리 현황을 보여주는데, 이벤트가 발생하거나 했을 때 최초 렌더링 시 힙 스냅샷과 이벤트 발생 시점의 힙 스냅샷이 존재한다고 가정했을 때, 두 개의 힙 스냅샷을 비교한 값을 통해 어떤 변수가 메모리를 잡아먹고 있는지 확인할 수 있습니다.
- Shallow Size(얕은 크기)는 객체 자체가 보유하는 메모리의 크기를 나타내고, Retained Size(유지된 크기)는 해당 객체 자체뿐만 아니라 다른 부모가 존재하지 않는 모든 자식 객체들의 크기까지 더한 값입니다. 메모리 누수를 찾을 때는 Shallow Size는 작으나 Retained Size가 큰 객체를 찾아야 합니다. 두 크기의 차이가 크다는 건 다수의 다른 객체를 참조하고 있다는 뜻이고, 이는 해당 객체가 복잡한 참조 관계를 갖고 있다는 뜻이므로 이런 객체가 오랜 시간 메모리에 남아 있다면 많은 메모리를 점유한다는 의미가 됩니다.

## 7.5.3 타임라인 할당 계측

- 특정 시점 뿐만 아니라 시간의 흐름에 따라 메모리 변화를 확인할 수 있는 기능으로, 모든 메모리 변화를 기록하기 때문에 상대적으로 많은 부담이 발생합니다.

## 7.5.4 할당 샘플링

- 할당 계측과 비슷하지만 자바스크립트 실행 스택별로 분석할 수 있고, 이 분석을 함수 단위로 한다는 차이점이 있습니다. 무거운 순으로 정렬해서 문제가 되는 함수를 확인하고, 해당 함수를 소스 패널에 표시해서 어느 파일에서 정의됐는지도 확인할 수 있습니다.
