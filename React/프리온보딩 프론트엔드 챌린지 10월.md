# **프리온보딩\_1회차**

## 로그인 구현을 위한 개념 살펴보기(BE)

- 사용자 식별
- 접근 및 동작 제어

## 로그인 구현을 위한 개념 살펴보기(FE)

- 권한이 없는 자원에 접근하지 않는 구조 만들기
- 권한이 없는 자원의 존재를 모르도록 하기
- 로그인/로그아웃 만들기
- 인증 정보 관리하기(JWT, Session)

## 로그인 구현을 위한 FE 개념 정리

### 필요한 최소한의 구현 요구사항

- 로그인 페이지
- 로그인 인증관련 데이터 관리
- 로그인 상태에 따른 화면/기능 제어
- 로그아웃

## Mock API로 얻게 되는 이점

- 서버 배포 없이 개발 가능
- 개발 단계에서 API 스펙이 계속 바뀔 수 있음 → 원하는 형태의 API 설계 가능
- 초기 인프라스트럭쳐 구성 비용 절감

## 실제 서비스의 로그인이 되려면?

### 토큰을 어디에 저장할 것인가

- Cookies / Local Storage / Session Storage
- 로그인 페이지와 서비스 페이지 분리하기

## 실제 서비스를 구성하는 페이지들

### 로그인이 필요한 페이지와 그렇지 않은 페이지들

- 로그인 불필요 페이지 / 로그인 필요 페이지 구분

### 로그인이 필요하지 않은 페이지

- 별도의 Authorization 없이 컴포넌트 구조 잡기

### 로그인이 필요한 페이지

- isLogged 같은 state를 통해 로그인이 안 됐을 때는 로그인 페이지로 보내기
- 다만 로그인 필요한 페이지마다 해당 로직을 반복되게 됨

### 로그인 여부 확인 로직 모듈화하기

- 반복되는 로직은 별도의 로직 모듈화하기

## 레이아웃 컴포넌트 만들기

### 페이지를 감싸는 컴포넌트

- 별도의 Authorzation 컴포넌트를 만들어서 로그인이 필요한 페이지를 감싸기(ex) children)

## Q&A (필요한 질문만 정리)

- 현업에서 파이어베이스 많이 사용하나요?
  - 스타트업에서는 활용도가 있음 → 고도화되면 유지보수 어려움
- 로그인해서 얻은 유저 정보는 대체로 어디에 저장하나요?
  - 클라이언트 딴에서는 대체로 토큰을 제외하고는 저장 안하려고 해야 함, 보안 이슈
- FormData 사용의 이점은 뭔가요?
  - 딱 제출했을 때의 데이터만 필요한 경우 리랜더링이 필요 없기 때문에 성능적인 장점이 있음, 다만 입력마다 뭔가를 체크할 때는 제어 컴포넌트가 필요
- Next.js의 pages/api를 활용하여 기능 구현이 실제로 많이 진행되는지 궁금합니다.
  - Proxy 띄울 때는 사용, 기능 구현 측면에서는 자주 사용하지는 않음(회사마다 케바케)
- Open API 등에서 데이터를 가져올 때 인증키 같은 걸 프론트에서 숨길 수 있는 방법이 없을까요?
  - 없음

# **프리온보딩\_2회차**

## 토큰(token)이란?

### 기술적 쓸모: 신원 증명

## 토큰 기반 로그인의 흐름

### 전체 흐름 살펴보기

1. 클라이언트가 로그인 요청
2. 서버가 토큰 발급 및 전달
3. 클라이언트가 토큰 보관
4. 클라이언트가 토큰을 사용해 요청

## 실제 서비스에서의 구조

### 어떤 기능이 필요할까요?

- 로그인 후 로그인 상태 유지
- 자동 로그인
- 유저 진입 → 토큰이 있는가? → 토큰이 유효한가? / 토큰 유효성 검증 → 로그인 진행 / 인증정보 확인 & 토큰 발급 → 토큰 사용

## 토큰을 만드는 기술

### JWT 안에는 무엇이 들어 있을까요?

- https://jwt.io/
- HEADER.PAYLOAD.SIGNATURE
  - HEADER - 암호화 규칙, 토큰 타입
  - PAYLOAD - 토큰 데이터
  - SIGNATURE - 암호화를 위한 데이터

## 토큰을 암호화하는 방식

### 해싱이란 무엇인가

## Stateless token

### 중요한 정보를 왜 넣어두나요?

- 토큰 자체가 스스로의 유효성을 검증하는 완결성을 가진다

### 완결성을 가지는 방법

- 서버에서는 토큰 내용만 확인 - 유저 정보가 올바른지, 시그니처가 올바른지 등

## 발생할 수 있는 보안 문제

### 토큰 탈취

## JWT 보관 방식과 보안

### 보안 취약점 돌아보기

- 시크릿 키 노출
- 데이터 복호화로 인한 정보 노출
- 토큰 탈취

### 재접근할 수 없는 런타임 메모리에 저장

### 로컬 스토리지/쿠키 저장 - XSS(Cross Site Scripting)

- 로컬 스토리지 → 토큰 탈취의 위험이 있음

### 쿠키 저장시 - CSRF(Cross-site Requeset Forgery)

- 쿠키 또한 보안적인 허점이 있음

## 시스템 설계로 해결하기

### 프론트에서 보안상 취할 수 있는 게 많지 않기 때문에 Refresh token과 Access token 사용하기

# **프리온보딩\_3회차**

## 세션이란 무엇인가

- 정보나 데이터가 아닌 연결 자체 → 정보는 쿠키 같은 것
- 사용자의 로그인 이후 로그아웃 혹은 로그인 만료까지의 기간
- 세션 방식 로그인: 사용자 로그인이 유효한 시간 동안 서버에 세션 아이디를 기록해 두고 인증에 사용하는 방식

## 쿠키란 무엇인가

- 서버에서 세팅하는 값
- 용량 제한이 있음에도 이전에는 브라우저 스토리지가 없어서 사용했던 히스토리

## 쿠키가 동작하는 방식

- 쿠키는 클라이언트에서 직접 넣어주는 값이 아님
- 인증 쿠키는 GET 하는 것도 위험할 수 있음

## 쿠키 관련 정책 지정하기(백엔드)

- SameSite: None, Lax, Strict
- httpOnly - 클라이언트에서 스크립트 접근 불가
- Secure - HTTP vs HTTPS → 패킷을 암호화해서 보냄

## CORS 에러 해결 방법

- mkcert를 통해서 https로 띄우기

## 실제 서비스가 되기 위해 더 필요한 것

- 로그아웃, 권한 관리

## 세션 vs JWT

- JWT - 서버/백엔드 비용 감소, 프론트엔드 복잡도 높아짐(refresh token 등), 보안상 세션보다 조금 더 위험
- 세션 - 서버/백엔드 비용 대폭 증가, 프론트엔드 인증 쉬워짐, 보안상 약간 향상

## 무엇을 선택해야 하는가

- 동시접속자 수, 서비스 규모, 앱/웹 동시운용 여부, 팀 내 인력구성, 일정 등 고려해서 결정

# **프리온보딩\_4회차**

## 로그인, 시작부터 끝까지 살펴보기

### 로그인이란 무엇일까요?

- 사용자가 시스템에 접근하거나 동작을 수행하는 것을 제어하고 기록하기 위한 컴퓨터 보안 절차
- 토큰이나 세션을 통해 유효성 검증

### 권한에 따라 적절한 자원에 접근하도록 하기

- 유저 전용 페이지 & 데이터 / 사장님 전용 페이지 & 데이터

## 유저 확인 & 권한 관리

### 필요한 경우 자기 자원에만 액세스하도록 하기

- 유저 A 데이터 / 유저 B 데이터

## 서버와의 역할 분담에서 항상 지켜져야 하는것

### 서버 벨리데이션은 필수적이다

- “프론트에서 막아주시면 안돼요?” → 클라이언트의 코드는 근본적으로 확인이 가능하기 때문에 보안 이슈
- ex) input에서는 막는다 해도 포스트맨으로 request 하거나 다른 방식으로 api를 날릴 수 있음

## 그 다음 프론트에서 할 일

### 권한에 따라 적절한 자원에 접근하도록 하기

- 가능한 분기처리로 적절한 자원만 노출

## 싱글톤 패턴?

- 객체를 잘 다루지 않는 프론트엔드 트렌드 특성상 생소할 수밖에 없는 컨셉

## 싱글톤 패턴 비슷한 것

### 라우터 객체!

## Q&A (필요한 질문만 정리)

- 신입 개발자로서 길러야 할 것들, 신입 개발자에게 기대하는 점
  - 학습 역량이 어떠한가
- 이력서에 기술해야 할 것이 무엇인가
  - 이력서에 어떤 기술 스택을 사용했고 왜 사용했는지 이유 필요
- 프론트엔드에서 필요한 디자인 패턴이 있나요?
  - 디자인 패턴보다는 인프라 공부를 추천 → 인프라는 배포를 통해서 학습해보는 걸 추천
- OAuth 서비스가 나온 이유
  - 구글에 데이터가 쌓인다는 측면
